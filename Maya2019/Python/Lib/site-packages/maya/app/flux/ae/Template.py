import maya.cmds as cmds

class Template(object):
    def __init__(self, nodeName):
        self.name = nodeName
        self.suppressAll()
        cmds.editorTemplate(beginScrollLayout=True)
        self.buildUI(nodeName)
        cmds.editorTemplate(addExtraControls=True)
        cmds.editorTemplate(endScrollLayout=True)

    def suppress(self, control):
        cmds.editorTemplate(suppress=control)
        
    def addCustom(self, obj):
        import maya.app.flux.ae.api as aeAPI
        aeAPI.addCustom(obj)

    def suppressAll(self):
        attrs = cmds.listAttr(self.name) or []
        attrs = set(attrs)

        attrs = attrs.difference(set(['caching', 'frozen', 'nodeState']))

        userDefined = cmds.listAttr(self.name, ud=True) or []
        userDefined = set(userDefined)

        attrs = attrs.difference(userDefined)
        
        for attr in attrs:
            cmds.editorTemplate(suppress=attr)
# ===========================================================================
# Copyright 2018 Autodesk, Inc. All rights reserved.
#
# Use of this software is subject to the terms of the Autodesk license
# agreement provided at the time of installation or download, or which
# otherwise accompanies this software in either electronic or hard copy form.
# ===========================================================================
